{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","App.module.css","Components/Searchbar/Searchbar.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/Searchbar.js","Components/ImageGalleryItem/ImageGalleryItem.js","Components/ImageGallery/ImageGallery.js","Components/Modal/Modal.js","Components/Button/Button.js","App.js","Components/api.js","reportWebVitals.js","index.js","Components/Modal/Modal.module.css"],"names":["module","exports","Searchbar","state","value","onSubmit","e","preventDefault","trim","props","setValue","setState","onChange","target","className","s","this","type","autoComplete","autoFocus","placeholder","Component","ImageGalleryItem","images","onImageClick","map","id","webformatURL","tags","onClick","image","src","alt","ImageGallery","modalRoot","document","querySelector","Modal","closeModalbyEsc","code","showModal","closeModalbyClick","currentTarget","window","addEventListener","removeEventListener","createPortal","backdrop","modal","button","icon","children","Button","App","page","status","loader","modalContent","val","prevState","toLowerCase","alert","toast","dark","toastId","resetImages","setPage","modalImg","find","el","prevProps","fetch","then","res","ok","json","Promise","reject","Error","fetchImages","hits","length","warn","catch","finally","scrollTo","top","documentElement","scrollHeight","behavior","title","color","height","width","largeImageURL","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"wIACAA,EAAOC,QAAU,CAAC,iBAAmB,2CAA2C,MAAQ,kC,mBCAxFD,EAAOC,QAAU,CAAC,IAAM,iBAAiB,MAAQ,qB,mBCAjDD,EAAOC,QAAU,CAAC,UAAY,+B,mBCA9BD,EAAOC,QAAU,CAAC,aAAe,qC,mBCAjCD,EAAOC,QAAU,CAAC,OAAS,yB,0MCENC,E,4MACnBC,MAAQ,CACNC,MAAO,I,EAGTC,SAAW,SAAAC,GACTA,EAAEC,iBAE8B,KAA5B,EAAKJ,MAAMC,MAAMI,SACnB,EAAKC,MAAMC,SAAS,EAAKP,MAAMC,OAC/B,EAAKO,SAAS,CAAEP,MAAO,O,EAI3BQ,SAAW,SAAAN,GACT,EAAKK,SAAS,CAAEP,MAAOE,EAAEO,OAAOT,S,4CAGlC,WACE,OACE,wBAAQU,UAAWC,IAAEb,UAArB,SACE,uBAAMG,SAAUW,KAAKX,SAArB,UACE,wBAAQY,KAAK,SAAb,SACE,4CAGF,uBACEL,SAAUI,KAAKJ,SACfK,KAAK,OACLC,aAAa,MACbC,WAAS,EACTC,YAAY,2BACZhB,MAAOY,KAAKb,MAAMC,iB,GAhCSiB,a,kCCcxBC,EAdU,SAAC,GAA8B,IAA5BC,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAClC,OAAOD,EAAOE,KAAI,YAAiC,IAA9BC,EAA6B,EAA7BA,GAAIC,EAAyB,EAAzBA,aAAcC,EAAW,EAAXA,KACrC,OACE,oBACEd,UAAWC,IAAEO,iBAEbO,QAAS,kBAAML,EAAaE,IAH9B,SAKE,qBAAKZ,UAAWC,IAAEe,MAAOC,IAAKJ,EAAcK,IAAKJ,KAH5CF,OCIEO,EARM,SAAC,GAA8B,IAA5BV,EAA2B,EAA3BA,OAAQC,EAAmB,EAAnBA,aAC9B,OACE,oBAAIV,UAAWC,IAAEkB,aAAjB,SACE,cAAC,EAAD,CAAkBV,OAAQA,EAAQC,aAAcA,O,wBCDhDU,EAAYC,SAASC,cAAc,eAEpBC,E,4MASnBC,gBAAkB,SAAAhC,GACD,WAAXA,EAAEiC,MACJ,EAAK9B,MAAM+B,a,EAIfC,kBAAoB,SAAAnC,GACdA,EAAEoC,gBAAkBpC,EAAEO,QACxB,EAAKJ,MAAM+B,a,uDAhBf,WACEG,OAAOC,iBAAiB,UAAW5B,KAAKsB,mB,kCAG1C,WACEK,OAAOE,oBAAoB,UAAW7B,KAAKsB,mB,oBAe7C,WAAU,IAAD,OACP,OAAOQ,uBACL,qBAAKhC,UAAWC,IAAEgC,SAAUlB,QAASb,KAAKyB,kBAA1C,SACE,sBAAK3B,UAAWC,IAAEiC,MAAlB,UACE,wBACE/B,KAAK,SACLY,QAAS,kBAAM,EAAKpB,MAAM+B,aAC1B1B,UAAWC,IAAEkC,OAHf,SAKE,cAAC,IAAD,CAAgBnC,UAAWC,IAAEmC,SAE9BlC,KAAKP,MAAM0C,cAGhBjB,O,GAnC6Bb,a,iBCLpB,SAAS+B,EAAT,GAA8B,IAAZvB,EAAW,EAAXA,QAC/B,OACE,wBAAQZ,KAAK,SAASY,QAAS,kBAAMA,KAAWf,UAAWC,IAAEqC,OAA7D,uB,qBCiIWC,E,4MAtHblD,MAAQ,CACNC,MAAO,GACPkD,KAAM,EACN/B,OAAQ,GACRgC,OAAQ,OACRC,QAAQ,EACRhB,WAAW,EACXiB,aAAc,M,EAoChB/C,SAAW,SAAAgD,GACT,EAAK/C,UAAS,SAAAgD,GACZ,OAAIA,EAAUvD,QAAUsD,EAAIE,eAC1BC,MAAM,cACNC,IAAMC,KAAK,8BAA+B,CACxCC,QAAS,cAKN,CAAE5D,MAAOsD,EAAIE,cAAeN,KAAM,O,EAI7CW,YAAc,WACZ,EAAKtD,SAAS,CAAEY,OAAQ,M,EAG1B2C,QAAU,WACR,EAAKvD,UAAS,SAAAgD,GACZ,MAAO,CAAEL,KAAMK,EAAUL,KAAO,O,EAIpCd,UAAY,WACV,EAAK7B,UAAS,SAAAgD,GACZ,MAAO,CAAEnB,WAAYmB,EAAUnB,e,EAInChB,aAAe,SAAAE,GACb,IAAMyC,EAAW,EAAKhE,MAAMoB,OAAO6C,MAAK,SAAAC,GAAE,OAAIA,EAAG3C,KAAOA,KACxD,EAAKf,SAAS,CAAE8C,aAAcU,IAC9B,EAAK3B,a,wDAlEP,SAAmB8B,EAAWX,GAAY,IAAD,OACvC,EAAwB3C,KAAKb,MAArBmD,EAAR,EAAQA,KAAMlD,EAAd,EAAcA,MACVA,IAAUuD,EAAUvD,OAASkD,IAASK,EAAUL,OACrC,IAATA,GACFtC,KAAKiD,cAGPjD,KAAKL,SAAS,CAAE6C,QAAQ,IC/BH,SAAUF,EAAMI,GACzC,OAAOa,MAAM,gCAAD,OAHE,oCAGF,cACmCb,EADnC,iBAC+CJ,EAD/C,yDAEVkB,MAAK,SAAAC,GACL,OAAIA,EAAIC,GACCD,EAAIE,OAEJC,QAAQC,OACb,IAAIC,MAAM,iEDyBZC,CAAYzB,EAAMlD,GACfoE,MAAK,SAAAC,GACAA,EAAIO,KAAKC,OAAS,IACpBnB,IAAMoB,KAAK,wBAAyB,CAClClB,QAAS,oBAIb,EAAKrD,UAAS,SAAAgD,GAAS,MAAK,CAC1BpC,OAAO,GAAD,mBAAMoC,EAAUpC,QAAhB,YAA2BkD,EAAIO,OACrCzB,OAAQ,kBAGX4B,OAAM,kBAAM,EAAKxE,SAAS,CAAE4C,OAAQ,gBACpC6B,SAAQ,WACP,EAAKzE,SAAS,CAAE6C,QAAQ,IACxBb,OAAO0C,SAAS,CACdC,IAAKnD,SAASoD,gBAAgBC,aAC9BC,SAAU,iB,oBA0CpB,WACE,MAA4DzE,KAAKb,MAAzDoB,EAAR,EAAQA,OAAQiC,EAAhB,EAAgBA,OAAQD,EAAxB,EAAwBA,OAAQf,EAAhC,EAAgCA,UAAWiB,EAA3C,EAA2CA,aAE3C,OACE,gCACE,cAAC,EAAD,CAAW/C,SAAUM,KAAKN,WAEd,SAAX6C,EACC,oBAAIzC,UAAWC,IAAE2E,MAAjB,6CACE,KACQ,aAAXnC,EACC,qCACE,cAAC,EAAD,CAAchC,OAAQA,EAAQC,aAAcR,KAAKQ,eACjD,cAAC4B,EAAD,CAAQvB,QAASb,KAAKkD,aAEtB,KACHV,GACC,cAAC,IAAD,CACE1C,UAAU,SACVG,KAAK,OACL0E,MAAM,UACNC,OAAQ,IACRC,MAAO,MAGC,aAAXtC,EACC,oBAAIzC,UAAWC,IAAE2E,MAAjB,6CACE,KACHlD,GACC,cAAC,EAAD,CAAOA,UAAWxB,KAAKwB,UAAvB,SACE,qBAAKT,IAAK0B,EAAaqC,cAAe9D,IAAKyB,EAAa7B,SAG5D,cAAC,IAAD,W,GAjHUP,aEHH0E,EAZS,SAAAC,GAClBA,GAAeA,aAAuBC,UACxC,6BAAqBzB,MAAK,YAAkD,IAA/C0B,EAA8C,EAA9CA,OAAQC,EAAsC,EAAtCA,OAAQC,EAA8B,EAA9BA,OAAQC,EAAsB,EAAtBA,OAAQC,EAAc,EAAdA,QAC3DJ,EAAOF,GACPG,EAAOH,GACPI,EAAOJ,GACPK,EAAOL,GACPM,EAAQN,OCDdO,IAASC,OACP,cAAC,IAAMC,WAAP,UACE,cAAC,EAAD,MAEFtE,SAASuE,eAAe,SAM1BX,K,kBCfA/F,EAAOC,QAAU,CAAC,SAAW,wBAAwB,MAAQ,qBAAqB,OAAS,sBAAsB,KAAO,uB","file":"static/js/main.a11930a8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__SWrag\",\"image\":\"ImageGalleryItem_image__38WSO\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"App_app__1lzdD\",\"title\":\"App_title__1JjUh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"Searchbar_Searchbar__TvVlD\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__3V-8o\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2vjrN\"};","import React, { Component } from 'react';\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  onSubmit = e => {\n    e.preventDefault();\n\n    if (this.state.value.trim() !== '') {\n      this.props.setValue(this.state.value);\n      this.setState({ value: '' });\n    }\n  };\n\n  onChange = e => {\n    this.setState({ value: e.target.value });\n  };\n\n  render() {\n    return (\n      <header className={s.Searchbar}>\n        <form onSubmit={this.onSubmit}>\n          <button type=\"submit\">\n            <span>Search</span>\n          </button>\n\n          <input\n            onChange={this.onChange}\n            type=\"text\"\n            autoComplete=\"off\"\n            autoFocus\n            placeholder=\"Search images and photos\"\n            value={this.state.value}\n          />\n        </form>\n      </header>\n    );\n  }\n}\n","import React from 'react';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({ images, onImageClick }) => {\n  return images.map(({ id, webformatURL, tags }) => {\n    return (\n      <li\n        className={s.ImageGalleryItem}\n        key={id}\n        onClick={() => onImageClick(id)}\n      >\n        <img className={s.image} src={webformatURL} alt={tags} />\n      </li>\n    );\n  });\n};\n\nexport default ImageGalleryItem;\n","import React from 'react';\nimport s from './ImageGallery.module.css';\nimport ImageGalleryItem from '../ImageGalleryItem';\n\nconst ImageGallery = ({ images, onImageClick }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      <ImageGalleryItem images={images} onImageClick={onImageClick} />\n    </ul>\n  );\n};\n\nexport default ImageGallery;\n","import React, { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport { MdHighlightOff } from 'react-icons/md';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.closeModalbyEsc);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.closeModalbyEsc);\n  }\n\n  closeModalbyEsc = e => {\n    if (e.code === 'Escape') {\n      this.props.showModal();\n    }\n  };\n\n  closeModalbyClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.showModal();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.backdrop} onClick={this.closeModalbyClick}>\n        <div className={s.modal}>\n          <button\n            type=\"button\"\n            onClick={() => this.props.showModal()}\n            className={s.button}\n          >\n            <MdHighlightOff className={s.icon} />\n          </button>\n          {this.props.children}\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import React from 'react';\nimport s from './Button.module.css';\n\nexport default function Button({ onClick }) {\n  return (\n    <button type=\"button\" onClick={() => onClick()} className={s.Button}>\n      Load more\n    </button>\n  );\n}\n","import React, { Component } from 'react';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nimport 'react-toastify/dist/ReactToastify.css';\nimport { ToastContainer, toast } from 'react-toastify';\nimport Loader from 'react-loader-spinner';\n\nimport Searchbar from './Components/Searchbar';\nimport ImageGallery from './Components/ImageGallery';\nimport Modal from './Components/Modal';\nimport Button from './Components/Button';\n\nimport s from './App.module.css';\n\nimport { fetchImages } from './Components/api';\n\nclass App extends Component {\n  state = {\n    value: '',\n    page: 1,\n    images: [],\n    status: 'idle',\n    loader: false,\n    showModal: false,\n    modalContent: null,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const { page, value } = this.state;\n    if (value !== prevState.value || page !== prevState.page) {\n      if (page === 1) {\n        this.resetImages();\n      }\n\n      this.setState({ loader: true });\n\n      fetchImages(page, value)\n        .then(res => {\n          if (res.hits.length < 12) {\n            toast.warn('All images are loaded', {\n              toastId: 'anotherCustomId',\n            });\n          }\n\n          this.setState(prevState => ({\n            images: [...prevState.images, ...res.hits],\n            status: 'resolved',\n          }));\n        })\n        .catch(() => this.setState({ status: 'rejected' }))\n        .finally(() => {\n          this.setState({ loader: false });\n          window.scrollTo({\n            top: document.documentElement.scrollHeight,\n            behavior: 'smooth',\n          });\n        });\n    }\n  }\n\n  setValue = val => {\n    this.setState(prevState => {\n      if (prevState.value === val.toLowerCase()) {\n        alert('alert');\n        toast.dark('Try to change your input :)', {\n          toastId: 'customId',\n        });\n        return;\n      }\n\n      return { value: val.toLowerCase(), page: 1 };\n    });\n  };\n\n  resetImages = () => {\n    this.setState({ images: [] });\n  };\n\n  setPage = () => {\n    this.setState(prevState => {\n      return { page: prevState.page + 1 };\n    });\n  };\n\n  showModal = () => {\n    this.setState(prevState => {\n      return { showModal: !prevState.showModal };\n    });\n  };\n\n  onImageClick = id => {\n    const modalImg = this.state.images.find(el => el.id === id);\n    this.setState({ modalContent: modalImg });\n    this.showModal();\n  };\n\n  render() {\n    const { images, loader, status, showModal, modalContent } = this.state;\n\n    return (\n      <div>\n        <Searchbar setValue={this.setValue} />\n\n        {status === 'idle' ? (\n          <h2 className={s.title}>Input your query to find images</h2>\n        ) : null}\n        {status === 'resolved' ? (\n          <>\n            <ImageGallery images={images} onImageClick={this.onImageClick} />\n            <Button onClick={this.setPage} />\n          </>\n        ) : null}\n        {loader && (\n          <Loader\n            className=\"Loader\"\n            type=\"Oval\"\n            color=\"#9900cc\"\n            height={180}\n            width={180}\n          />\n        )}\n        {status === 'rejected' ? (\n          <h2 className={s.title}>Error. Try to change your query</h2>\n        ) : null}\n        {showModal && (\n          <Modal showModal={this.showModal}>\n            <img src={modalContent.largeImageURL} alt={modalContent.tags} />\n          </Modal>\n        )}\n        <ToastContainer />\n      </div>\n    );\n  }\n}\n\nexport default App;\n","const API_KEY = '9062055-da883187fb30391728e11f5fd';\n\nexport const fetchImages = function (page, val) {\n  return fetch(\n    `https://pixabay.com/api/?key=${API_KEY}&q=${val}&page=${page}&image_type=photo&orientation=horizontal&per_page=12`,\n  ).then(res => {\n    if (res.ok) {\n      return res.json();\n    } else {\n      return Promise.reject(\n        new Error('Some server issue seems to have occured. Please try again'),\n      );\n    }\n  });\n};\n","const reportWebVitals = onPerfEntry => {\r\n  if (onPerfEntry && onPerfEntry instanceof Function) {\r\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\r\n      getCLS(onPerfEntry);\r\n      getFID(onPerfEntry);\r\n      getFCP(onPerfEntry);\r\n      getLCP(onPerfEntry);\r\n      getTTFB(onPerfEntry);\r\n    });\r\n  }\r\n};\r\n\r\nexport default reportWebVitals;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport App from './App';\r\nimport reportWebVitals from './reportWebVitals';\r\n\r\nReactDOM.render(\r\n  <React.StrictMode>\r\n    <App />\r\n  </React.StrictMode>,\r\n  document.getElementById('root')\r\n);\r\n\r\n// If you want to start measuring performance in your app, pass a function\r\n// to log results (for example: reportWebVitals(console.log))\r\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\r\nreportWebVitals();\r\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"backdrop\":\"Modal_backdrop__6PbW8\",\"modal\":\"Modal_modal__1gAJX\",\"button\":\"Modal_button__24Wrw\",\"icon\":\"Modal_icon__3bTn0\"};"],"sourceRoot":""}